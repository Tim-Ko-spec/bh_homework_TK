# В структуре данных из 5 урока задание №2 каждому сотруднику
# добавить к параметру "навык" параметр "мастерство" измеряемый от 0 до 100
#
# Написать программу которая анализирует всю структуру данных и выводит сотрудников
# с наибольшим параметром "мастерство" для каждого существующего навыка.
# Пример вывода:
#     1. Python - Иванов - 98
#     2. JS - Петров  - 74
#     3. Базы данных - Николаев - 87
#     ...
#
#
# ** Пример вывода (перед выводам отсортировать по убыванию "мастерства"):
#
#     --------------------------------------------------
#     | № |   Навык     |       ФИО       | Мастерство |
#     ==================================================
#     | 1 | Python      | Иванов Н.С.     |     98     |
#     | 2 | JS          | Петров В.В.     |     87     |
#     | 3 | Базы данных | Николаев Е.Н.   |     74     |


# Структура данных: список словарей сотрудников
employees = [
    {"fio": "Иванов Н.С.", "skill": "Python", "mastery": 98},
    {"fio": "Петров В.В.", "skill": "JS", "mastery": 87},
    {"fio": "Сидоров А.А.", "skill": "Python", "mastery": 75},
    {"fio": "Николаев Е.Н.", "skill": "Базы данных", "mastery": 74},
    {"fio": "Кузнецов Д.Д.", "skill": "JS", "mastery": 65},
    {"fio": "Смирнов О.О.", "skill": "Базы данных", "mastery": 90},
]

def main():
    # Словарь для хранения лучшего сотрудника по каждому навыку
    best_by_skill = {}

    for emp in employees:
        skill = emp["skill"]
        mastery = emp["mastery"]

        # Если навык ещё не встречался или найден сотрудник с большим мастерством
        if skill not in best_by_skill or mastery > best_by_skill[skill]["mastery"]:
            best_by_skill[skill] = emp

    # Преобразуем словарь в список и сортируем по убыванию мастерства
    best_list = sorted(best_by_skill.values(), key=lambda x: x["mastery"], reverse=True)

    # Красивый вывод таблицы
    print("--------------------------------------------------")
    print("| № |   Навык     |       ФИО       | Мастерство |")
    print("==================================================")

    for i, emp in enumerate(best_list, start=1):
        print(f"| {i:<2}| {emp['skill']:<11}| {emp['fio']:<15}| {emp['mastery']:>10} |")

if __name__ == "__main__":
    main()